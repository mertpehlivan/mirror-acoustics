<!DOCTYPE html>
<html lang="tr" xmlns:th="http://www.thymeleaf.org"
    th:replace="~{layout :: layout(${title} ?: 'Ürün', ~{::content})}">
<th:block th:fragment="content">

    <div th:if="${p} == null" class="alert alert-warning mt-3">
        Ürün bulunamadı.
    </div>

        <div th:if="${p} != null" class="grid grid-cols-1 md:grid-cols-5 gap-6 mt-4">
            <div class="md:col-span-3">
                <h1 class="text-2xl font-semibold text-amber-900" th:text="${lang=='en'? p.titleEn : p.titleTr}">Ürün Başlığı</h1>
            <div class="text-sm text-neutral-500 mt-1">
                <span>Oluşturulma:</span>
                <span th:text="${#temporals.format(p.createdAt, 'dd.MM.yyyy')}">01.01.2025</span>
            </div>
            <p class="mt-3 text-neutral-800" th:text="${lang=='en'? p.descriptionEn : p.descriptionTr}">
                Ürün açıklaması…
            </p>
        </div>
        <div class="md:col-span-2">
            <div class="rounded-lg border p-4 bg-white/70">
                <div class="flex items-center justify-between">
                    <span class="text-neutral-500">Fiyat</span>
                    <span class="text-xl font-semibold text-amber-900" th:text="${p.currency} + ' ' + ${#numbers.formatDecimal(p.price, 1, 'POINT', 2, 'POINT')}">₺ 0,00</span>
                </div>
                <form th:action="@{/cart/add}" method="post" class="mt-4 flex gap-2">
                    <input type="hidden" name="productId" th:value="${p.id}" />
                    <input type="hidden" name="lang" th:value="${lang}" />
                    <button type="submit" class="px-4 py-2 bg-amber-900 text-amber-50 rounded hover:bg-amber-800" th:text="${lang=='en' ? 'Add to Cart' : 'Sepete Ekle'}">Sepete Ekle</button>
                </form>
                <form th:action="@{/cart/add}" method="post" class="mt-4">
                    <input type="hidden" name="productId" th:value="${p.id}" />
                    <input type="hidden" name="lang" th:value="${lang}" />
                    <input type="hidden" name="redirect" value="whatsapp" />
                    <button type="submit" class="w-full rounded bg-green-600 px-4 py-2 text-white hover:bg-green-500" th:text="${lang=='en' ? 'Order via WhatsApp' : 'WhatsApp\'tan Sipariş Ver'}">WhatsApp'tan Sipariş Ver</button>
                </form>
            </div>
        </div>
    </div>
</th:block>

</html>


