<!DOCTYPE html>
<html lang="tr" xmlns:th="http://www.thymeleaf.org" th:fragment="layout (title, content)">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title th:text="${title} ?: 'Mirror Acoustics'">Mirror Acoustics</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link th:href="@{/css/app.css}" rel="stylesheet" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Poppins:wght@300;400;500;600&display=swap"
        rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            50: '#fff8ed',
                            100: '#ffefd6',
                            200: '#ffdbaa',
                            300: '#ffc074',
                            400: '#f59e0b',
                            500: '#b45309',
                            600: '#92400e',
                            700: '#78350f',
                            800: '#4e2a0e',
                            900: '#3b210b'
                        }
                    }
                }
            }
        }
    </script>
    <script>
        if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        }
    </script>
    <style>
        body {
            font-family: 'Poppins', sans-serif;
        }

        .title-font {
            font-family: 'Playfair Display', serif;
        }

        footer {
            border-top: 1px solid #eee;
            margin-top: 3rem;
            padding-top: 1rem;
            color: #777;
        }

        .line-clamp {
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
    </style>
</head>

<body>
    <header class="sticky top-0 z-50 bg-white dark:bg-gray-900 shadow-md">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex h-16 items-center justify-between">
                <a th:href="@{/}" class="title-font text-2xl font-bold text-gray-800 dark:text-gray-100">MIRROR ACOUSTICS</a>
                <div class="flex items-center gap-6">
                    <nav class="hidden md:flex items-center space-x-8" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
                        <a th:href="@{/}" class="text-gray-800 hover:text-amber-600 dark:text-gray-100">Ana Sayfa</a>
                        <a th:href="@{/urun}" class="text-gray-800 hover:text-amber-600 dark:text-gray-100">ÃœrÃ¼nler</a>
                        <a th:href="@{|/cart?lang=${lang}|}" th:text="${lang=='en' ? 'Cart' : 'Sepet'}" class="text-gray-800 hover:text-amber-600 dark:text-gray-100">Sepet</a>
                        <a sec:authorize="!isAuthenticated()" th:href="@{/admin/login}" class="text-gray-800 hover:text-amber-600 dark:text-gray-100">Admin</a>
                        <a sec:authorize="isAuthenticated()" th:href="@{/admin/products}" class="text-gray-800 hover:text-amber-600 dark:text-gray-100">YÃ¶netim</a>
                        <form sec:authorize="isAuthenticated()" th:action="@{/admin/logout}" method="post">
                            <button class="text-gray-800 hover:text-amber-600 dark:text-gray-100" type="submit">Ã‡Ä±kÄ±ÅŸ</button>
                        </form>
                    </nav>
                    <button type="button" onclick="themeToggle()" class="text-xl text-gray-800 hover:text-amber-600 dark:text-gray-100" aria-label="Tema deÄŸiÅŸtir">
                        ðŸŒ“
                    </button>
                </div>
            </div>
        </div>
    </header>

    <main class="container">
        <!-- Sayfa iÃ§eriÄŸi buraya enjekte olur -->
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <th:block th:replace="${content}"></th:block>
        </div>
    </main>

    <footer class="container">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between text-sm text-neutral-500 py-4 border-t">
                <span>&copy; <span th:text="${#temporals.format(#temporals.createNow(), 'yyyy')}">2025</span> Mirror
                    Acoustics</span>
                <span>Built with Spring &amp; Thymeleaf</span>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <script>
        function themeToggle() {
            const html = document.documentElement;
            if (html.classList.contains('dark')) {
                html.classList.remove('dark');
                localStorage.theme = 'light';
            } else {
                html.classList.add('dark');
                localStorage.theme = 'dark';
            }
        }
    </script>
</body>

</html>