<!DOCTYPE html>
<html lang="tr" xmlns:th="http://www.thymeleaf.org" th:replace="~{layout :: layout(~{::content})}">
<th:block th:fragment="content">
  <section class="py-8">
    <h1 class="text-2xl font-semibold mb-4">Sipariş Özeti</h1>
    <div class="grid md:grid-cols-2 gap-6">
      <div>
        <form action="/checkout/whatsapp" method="post" th:object="${form}" class="space-y-3">
          <div>
            <label class="block text-sm">Ad Soyad</label>
            <input class="w-full border rounded p-2" th:field="*{fullName}" required />
          </div>
          <div>
            <label class="block text-sm">Telefon</label>
            <input class="w-full border rounded p-2" th:field="*{phone}" required />
          </div>
          <div>
            <label class="block text-sm">E-posta</label>
            <input class="w-full border rounded p-2" th:field="*{email}" />
          </div>
          <div>
            <label class="block text-sm">Adres</label>
            <textarea class="w-full border rounded p-2" th:field="*{address}" required></textarea>
          </div>
          <div>
            <label class="block text-sm">Kargo Tercihi</label>
            <input class="w-full border rounded p-2" th:field="*{shippingPref}" />
          </div>
          <div>
            <label class="block text-sm">Not</label>
            <textarea class="w-full border rounded p-2" th:field="*{note}"></textarea>
          </div>
          <button class="w-full md:w-auto rounded bg-emerald-700 px-4 py-2 text-white">WhatsApp'tan Gönder</button>
        </form>
      </div>
      <div>
        <div class="border rounded p-4 bg-white">
          <h2 class="font-semibold mb-2">Sepet</h2>
          <div th:each="it : ${cart.items}" class="flex justify-between py-1 border-b">
            <span th:text="${it.title}">Ürün</span>
            <span th:text="${#numbers.formatDecimal(it.lineTotal, 1, 'POINT', 2, 'POINT')}">0,00</span>
          </div>
          <div class="text-right mt-3 font-semibold">
            <span>Toplam:</span>
            <span th:text="${#numbers.formatDecimal(cart.total, 1, 'POINT', 2, 'POINT')}">0,00</span>
          </div>
        </div>
      </div>
    </div>
  </section>
</th:block>
</html>


